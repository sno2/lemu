B main

// int isprime(int x) {
//     for (int i = 2; i < x; i++) { // could be < sqrt(x) but we don't have sqrt
//         if (x - (x / i) * i == 0) {
//             return 0; // we don't have modulo
//         }
//     }
//     return 1;
// }
isprime:
    ADDIS X1, XZR, #2
isprime0:
    SUBS XZR, X1, X0
    B.GE isprime2

    SDIV X2, X0, X1
    MUL X2, X2, X1
    SUB X2, X0, X2
    CBZ X2, isprime1

    ADDIS X1, X1, #1
    B isprime0
isprime1:
    ADDI X0, XZR, #0
    BR LR
isprime2:
    ADDI X0, XZR, #1
    BR LR

main:
    ADDIS X3, XZR, #23
    B main0

main0:
    CBZ X3, main1
    ADD X0, XZR, X3
    BL isprime
    PRNT X3
    PRNT X0
    PRNL
    SUBIS X3, X3, #1
    B main0

main1:

/// X3: 0x0000000000000017 (23)
/// X0: 0x0000000000000001 (1)
/// 
/// X3: 0x0000000000000016 (22)
/// X0: 000000000000000000 (0)
/// 
/// X3: 0x0000000000000015 (21)
/// X0: 000000000000000000 (0)
/// 
/// X3: 0x0000000000000014 (20)
/// X0: 000000000000000000 (0)
/// 
/// X3: 0x0000000000000013 (19)
/// X0: 0x0000000000000001 (1)
/// 
/// X3: 0x0000000000000012 (18)
/// X0: 000000000000000000 (0)
/// 
/// X3: 0x0000000000000011 (17)
/// X0: 0x0000000000000001 (1)
/// 
/// X3: 0x0000000000000010 (16)
/// X0: 000000000000000000 (0)
/// 
/// X3: 0x000000000000000f (15)
/// X0: 000000000000000000 (0)
/// 
/// X3: 0x000000000000000e (14)
/// X0: 000000000000000000 (0)
/// 
/// X3: 0x000000000000000d (13)
/// X0: 0x0000000000000001 (1)
/// 
/// X3: 0x000000000000000c (12)
/// X0: 000000000000000000 (0)
/// 
/// X3: 0x000000000000000b (11)
/// X0: 0x0000000000000001 (1)
/// 
/// X3: 0x000000000000000a (10)
/// X0: 000000000000000000 (0)
/// 
/// X3: 0x0000000000000009 (9)
/// X0: 000000000000000000 (0)
/// 
/// X3: 0x0000000000000008 (8)
/// X0: 000000000000000000 (0)
/// 
/// X3: 0x0000000000000007 (7)
/// X0: 0x0000000000000001 (1)
/// 
/// X3: 0x0000000000000006 (6)
/// X0: 000000000000000000 (0)
/// 
/// X3: 0x0000000000000005 (5)
/// X0: 0x0000000000000001 (1)
/// 
/// X3: 0x0000000000000004 (4)
/// X0: 000000000000000000 (0)
/// 
/// X3: 0x0000000000000003 (3)
/// X0: 0x0000000000000001 (1)
/// 
/// X3: 0x0000000000000002 (2)
/// X0: 0x0000000000000001 (1)
/// 
/// X3: 0x0000000000000001 (1)
/// X0: 0x0000000000000001 (1)
/// 
